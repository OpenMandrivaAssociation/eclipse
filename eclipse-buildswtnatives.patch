diff -up ./plugins/org.eclipse.swt.gtk.linux.ia64/build.xml.buildswt ./plugins/org.eclipse.swt.gtk.linux.ia64/build.xml
--- ./plugins/org.eclipse.swt.gtk.linux.ia64/build.xml.buildswt	2008-07-25 09:07:55.000000000 -0400
+++ ./plugins/org.eclipse.swt.gtk.linux.ia64/build.xml	2008-07-25 09:08:15.000000000 -0400
@@ -272,6 +272,11 @@
 	</target>
 
 	<target name="build.cfiles" depends="build.jars">
+		<!-- delete swttools.jar so that it will be compiled in the build.jars target -->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="clean"/>
+		<!--compile swtools.jar in org.eclipse.swt.tools-->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="build.jars" />
+
 		<!-- generate the C code from the (64 bit) SWT PI java classes -->
 		<!-- assumes the swt.jar has already been built  -->
 		<java classname="org.eclipse.swt.tools.internal.JNIGeneratorApp" classpath="${toolsplugindir}/bin:${toolsplugindir}/swttools.jar:${basedir}/swt.jar"><arg value="org.eclipse.swt.internal.gtk.OS"/><arg value="${basedir}/src/Eclipse SWT PI/gtk/library/"/><arg value="${build.result.folder}/swt.jar"/></java>
@@ -293,6 +298,7 @@
 			<fileset dir="${basedir}/src/Eclipse SWT Mozilla/common/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT OpenGL/glx/library/"/>
 			<fileset dir="${basedir}/src/Eclipse SWT PI/cairo/library"/>
+			<fileset dir="${basedir}/src/Eclipse SWT PI/common/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT PI/gtk/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT Program/cde/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT Program/gnome/library"/>
diff -up ./plugins/org.eclipse.swt.gtk.linux.ppc/build.xml.buildswt ./plugins/org.eclipse.swt.gtk.linux.ppc/build.xml
--- ./plugins/org.eclipse.swt.gtk.linux.ppc/build.xml.buildswt	2008-07-25 09:07:55.000000000 -0400
+++ ./plugins/org.eclipse.swt.gtk.linux.ppc/build.xml	2008-07-25 09:07:58.000000000 -0400
@@ -141,6 +141,28 @@
 		<antcall target="@dot"/>
 	</target>
 
+	<target name="build.cfiles" depends="init">
+		<mkdir dir="${build.result.folder}/library"/>
+		<copy todir="${build.result.folder}/library">
+			<fileset dir="${plugindir}/Eclipse SWT/common/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT AWT/gtk/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT Mozilla/common/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT OpenGL/glx/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT PI/cairo/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT PI/common/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT PI/gtk/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT Program/cde/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT Program/gnome/library"/>
+		</copy>
+	</target>
+
+	<target name="build.nativeLibraries" depends="build.cfiles">
+		<exec dir="${build.result.folder}/library" executable="sh">
+			<env key="OUTPUT_DIR" value="${build.result.folder}"/>
+			<arg line="${build.result.folder}/library/build.sh"/>
+			<arg line="install"/>
+		</exec>
+	</target>
 	<target name="src.zip" depends="init" unless="src.zip">
 		<mkdir dir="${build.result.folder}/"/>
 		<zip zipfile="${build.result.folder}/src.zip">
@@ -346,4 +368,4 @@
 			<mapper type="glob" from="*._properties" to="*.properties"/>
 		</move>
 	</target>
-</project>
\ No newline at end of file
+</project>
diff -up ./plugins/org.eclipse.swt.gtk.linux.s390x/build.xml.buildswt ./plugins/org.eclipse.swt.gtk.linux.s390x/build.xml
--- ./plugins/org.eclipse.swt.gtk.linux.s390x/build.xml.buildswt	2008-07-25 09:07:55.000000000 -0400
+++ ./plugins/org.eclipse.swt.gtk.linux.s390x/build.xml	2008-07-25 09:07:58.000000000 -0400
@@ -272,6 +272,11 @@
 	</target>
 
 	<target name="build.cfiles" depends="build.jars">
+		<!-- delete swttools.jar so that it will be compiled in the build.jars target -->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="clean"/>
+		<!--compile swtools.jar in org.eclipse.swt.tools-->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="build.jars" />
+
 		<!-- generate the C code from the (64 bit) SWT PI java classes -->
 		<!-- assumes the swt.jar has already been built  -->
 		<java classname="org.eclipse.swt.tools.internal.JNIGeneratorApp" classpath="${toolsplugindir}/bin:${toolsplugindir}/swttools.jar:${basedir}/swt.jar"><arg value="org.eclipse.swt.internal.C"/><arg value="${basedir}/src/Eclipse SWT PI/common/library/"/><arg value="${build.result.folder}/swt.jar"/></java>
@@ -294,6 +299,7 @@
 			<fileset dir="${basedir}/src/Eclipse SWT Mozilla/common/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT OpenGL/glx/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT PI/cairo/library"/>
+			<fileset dir="${basedir}/src/Eclipse SWT PI/common/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT PI/gtk/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT Program/cde/library"/>
 			<fileset dir="${basedir}/src/Eclipse SWT Program/gnome/library"/>
diff -up ./plugins/org.eclipse.swt.gtk.linux.x86_64/build.xml.buildswt ./plugins/org.eclipse.swt.gtk.linux.x86_64/build.xml
--- ./plugins/org.eclipse.swt.gtk.linux.x86_64/build.xml.buildswt	2008-07-25 09:07:55.000000000 -0400
+++ ./plugins/org.eclipse.swt.gtk.linux.x86_64/build.xml	2008-07-25 09:07:58.000000000 -0400
@@ -271,6 +271,11 @@
 	</target>
 
 	<target name="build.cfiles" depends="build.jars">
+		<!-- delete swttools.jar so that it will be compiled in the build.jars target -->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="clean"/>
+		<!--compile swtools.jar in org.eclipse.swt.tools-->
+		<ant antfile="build.xml" dir="${toolsplugindir}" inheritAll="false" target="build.jars" />
+
 		<!-- generate the C code from the (64 bit) SWT PI java classes -->
 		<!-- assumes the swt.jar has already been built  -->
 		<java classname="org.eclipse.swt.tools.internal.JNIGeneratorApp" classpath="${toolsplugindir}/bin:${toolsplugindir}/swttools.jar:${basedir}/swt.jar"><arg value="org.eclipse.swt.internal.C"/><arg value="${basedir}/src/Eclipse SWT PI/common/library/"/><arg value="${build.result.folder}/swt.jar"/></java>
diff -up ./plugins/org.eclipse.swt.gtk.linux.x86/build.xml.buildswt ./plugins/org.eclipse.swt.gtk.linux.x86/build.xml
--- ./plugins/org.eclipse.swt.gtk.linux.x86/build.xml.buildswt	2008-07-25 09:07:55.000000000 -0400
+++ ./plugins/org.eclipse.swt.gtk.linux.x86/build.xml	2008-07-25 09:07:58.000000000 -0400
@@ -149,13 +149,14 @@
 			<fileset dir="${plugindir}/Eclipse SWT Mozilla/common/library"/>
 			<fileset dir="${plugindir}/Eclipse SWT OpenGL/glx/library"/>
 			<fileset dir="${plugindir}/Eclipse SWT PI/cairo/library"/>
+			<fileset dir="${plugindir}/Eclipse SWT PI/common/library"/>
 			<fileset dir="${plugindir}/Eclipse SWT PI/gtk/library"/>
 			<fileset dir="${plugindir}/Eclipse SWT Program/cde/library"/>
 			<fileset dir="${plugindir}/Eclipse SWT Program/gnome/library"/>
 		</copy>
 	</target>
 
-	<target name="build.jnilibs" depends="build.cfiles">
+	<target name="build.nativeLibraries" depends="build.cfiles">
 		<exec dir="${build.result.folder}/library" executable="sh">
 			<env key="OUTPUT_DIR" value="${build.result.folder}"/>
 			<arg line="${build.result.folder}/library/build.sh"/>
